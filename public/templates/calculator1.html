<div ng-controller="calculatorCtrl">
<div  style="postition:relative;margin 10px 0px 10px 0px">
    <div class="">
       <a id="code4hk-badge-link" href="http://www.code4.hk" target="_blank"><img style="z-index:9999;position: absolute; top: 0; left: 0; border: 0;" src="https://trello-attachments.s3.amazonaws.com/52998d087f8efc0d05011eec/52ad5642cb6eba6571011a25/5af35373d1d638925edb4a6fd807e19c/forkme_light_background.png" alt="Code for Hong Kong" data-canonical-src="https://trello-attachments.s3.amazonaws.com/52998d087f8efc0d05011eec/52ad5642cb6eba6571011a25/5af35373d1d638925edb4a6fd807e19c/forkme_light_background.png"></a>
   </div>
    <div class="calculator-header-title-container" >
<h3 class="calculator-header-title">{{'CALCULATOR_HEADER_TITLE'| translate}}</h3>
    <span ng-controller="changeLanguageCtrl" class="pull-right"><a href="javascript:void(0)" ng-click="changeLanguage('en')" >English</a> | <a  href="javascript:void(0)" ng-click="changeLanguage('zh-TW')" >中文</a></span>
  </div>
   <div class="container-fluid calculator-header">
       <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="row">
        </div>
        <div class="row header-row">
            <div class="col-xs-4 "></div>
            <div class="col-xs-1">
            </div>
            <div class=" col-xs-3">
        </div>
        <div class="col-xs-1">
        </div>
        <div class=" col-xs-3">
        </div>
    </div>
    <div class="row change">
        <div class="col-xs-7 col-sm-8"></div>
        <div class=" col-xs-2 label label-danger">{{::'YEAR_1516'|t}}</div>
        <div class="col-xs-3 col-sm-2 label label-warning">{{::'THIS_YEAR'|t}}
        </div>
    </div>
    <div class="row change">
        <div class="col-xs-7 col-sm-8"></div>
        <div class=" col-xs-2 label label-pay"><span translate="AMOUNT_PAY" translate-values="{amount:y2014.total}"></span></div>
        <div class="col-xs-3 col-sm-2 label label-pay">
            <!-- ${{y2014.total-y2013.total}} -->
            <diff prop-key="total"></diff>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 gradient-line">   </div>

    </div>
</div>
</nav>
</div>
<div class="calculator-container container-fluid content">
    <section>
    <h3 class="calculator-heading">{{'HEADING.LIVING_COST'|translate}}</h3>
   <div class="row">
    <div class="col-xs-7 col-sm-5 tax-item">
        <span tooltip-html-unsafe="{{publicServiceInputTooltip}}" tooltip-placement="right"><i class="fa fa-university"></i>{{::'LIVING.RATES'|t}}</span>
    </div>
    <div class="col-xs-7 col-sm-3 tax-item-input">$<input tooltip-html-unsafe="{{publicServiceInputTooltip}}" tooltip-trigger="focus" class="label-input" type="text" ng-model="living.publicServiceCount" maxlength="4" size="4">x 4 {{::'SEASON'|t}}</div>
    <div class="col-xs-2 col-sm-2 y2014tax label label-1415">${{y2014.publicServiceTax | number:0}}
    </div>
    <div class="col-xs-3 col-sm-2 label label-diff">
       <tax-diff prop-key="publicServiceTax"></tax-diff>
   </div>
  </div>


    <div class="row" >
        <div class="col-xs-7 col-sm-5" >
            <i class="fa fa-flash"></i>{{::'LIVING.ELECTRICITY'|t}} &nbsp;<a href="http://www.fstb.gov.hk/tb/tc/electricity-subsidy-scheme.htm" target="_blank"><i class="fa fa-info-circle" taget="_blank"></i>{{::'LIVING.ELECTRICITY_INFO'|t}}</a>
        </div>
        <div class="col-xs-7 col-sm-3 tax-item-input">$<input tooltip-html-unsafe="{{electricityInputTooltip}}" tooltip-trigger="focus" class="label-input" type="text" ng-model="living.electricityCount" maxlength="4" size="4">x 12 {{::'MONTH'|t}}</div>
        <div class="col-xs-2 col-sm-2 y2014tax label label-1415">${{y2014.electricityTax | number:0}}
        </div>
        <div class="col-xs-3 col-sm-2 label label-diff">
           <tax-diff prop-key="electricityTax"></tax-diff>
       </div>
   </div>


<div ng-if="false" class="row">
    <div class="col-xs-7 col-sm-5 tax-item" >
        <span tooltip-html-unsafe="{{cigaretteInputTooltip}}" tooltip-placement="right"><span class="icon-svg"></span>煙草稅</span><a href="http://www.customs.gov.hk/tc/trade_facilitation/dutiable/types/index.html#tobacco" target="_blank"><i class="fa fa-info-circle"></i>海關資料</a>
    </div>
    <div class="col-xs-7 col-sm-3 tax-item-input">每星期 <input tooltip-html-unsafe="{{cigaretteInputTooltip}}" tooltip-trigger="focus" type="text" ng-model="living.cigaretteCount" maxlength="4" size="4">包<small>（20支捲煙）</small></div>
    <div class="col-xs-2 col-sm-2 y2014tax label label-1415"><div ng-show="show2014">${{y2014.cigaretteTax | number:0}}</div></div>
    <div class="col-xs-3 col-sm-2 label label-diff"> <tax-diff prop-key="cigaretteTax"></tax-diff>       </div>
</div>
<!-- <div class="row">
    <div class="col-xs-3">
        <span class="icon-transportation_car"></span>汽車首次登記稅
    </div>
    <div class="col-xs-3"><input type="number" ng-model="living.firstCarCount" maxlength="4" size="4">架 <small>以$14,0000計算</small></div>
    <div class="col-xs-2 y2013tax label label-1314">${{y2013.firstCarTax | number:0}}</div>
    <div class="col-xs-2 y2014tax label label-1415">${{y2014.firstCarTax | number:0}}</div>
    <div class="col-xs-2 label label-diff"><tax-diff prop-key="firstCarTax"></tax-diff></div>
</div> -->

<div class="row">
    <div class="col-xs-7 col-sm-5 tax-item">
        <span tooltip-html-unsafe="{{publicHouseRentInputTooltip}}" tooltip-placement="right" ><span class="fa fa-home"></span>{{::'LIVING.PUBLIC_HOUSING_RENT'|t}}</span>
    </div>
    <div class="col-xs-7 col-sm-3 tax-item-input">$<input ng-focus="$parent.isShowLivingExpense=true" tooltip-html-unsafe="{{publicHouseRentInputTooltip}}" tooltip-trigger="focus" type="text" ng-model="living.publicHouseRentCount" maxlength="6" size="5">x 12 {{::'MONTH'|t}}</div>
    <div class="col-xs-2 col-sm-2 label label-1415 y2014tax">${{y2014.publicHouseRentTax | number:0}}
    </div>
    <div class="col-xs-3 col-sm-2 label label-diff">
       <tax-diff prop-key="publicHouseRentTax"></tax-diff>
   </div>
</div>

<div class="row">
    <div class="col-xs-7 col-sm-8"><label class="total total-total">{{::'TOTAL.LABEL'|t}}</label></div>
    <div class="col-xs-2 col-sm-2 label label-1415 y2014tax total-total">${{y2014.livingTax}}</div>
    <div class="col-xs-3 col-sm-2 label label-diff total-total"><tax-diff prop-key="livingTax"></tax-diff></div>
</div>

</section>
</div>

<div class=" container-fluid content">
  <div class="row">
    <div ng-show="!isShowLivingExpense" ng-click="showLivingExpense()" class="col-xs-4 col-xs-offset-4 col-md-2 col-md-offset-5 calculator-container" style="text-align:center; font-size:2rem;">
        <a href=""><i class="fa fa-chevron-circle-down"><span style="margin-left:1rem;">{{::'More'|t}}</span></i></a>
    </div>
  </div>
  </div>

<!-- livingTax -->

<div id="living" class="calculator-container container-fluid content">
<section ng-show="isShowLivingExpense">
    <h3 class="calculator-heading">{{'HEADING.SALARY_TAX'|translate}}</h3>
    <div class="row">
        <div class="col-xs-7 col-sm-5 tax-item">{{'INCOME_TOTAL'|t}}</div>
        <div class="col-xs-7 col-sm-3 tax-item-input">
            $<input tooltip-html-unsafe="{{incomeInputTooltip}}" type="text" ng-model="salaryTaxInfo.income" maxlength="10" size="15">
        </div>
        <div class="col-xs-2 col-sm-2 label label-1415 y2014tax">${{salaryTaxInfo.income}}</div>
        <div class="col-xs-3 col-sm-2 label "> </div>
    </div>


    <h4 class="calculator-heading">{{'DEDUCTION'|t}}</h4>

    <!-- <div class="col-xs-12"></div> -->
    <!-- </div> -->
    <div class="row">
        <div class="col-xs-7 col-sm-5 tax-item">{{::'DEDUCTION_TOTAL'|t}}</div>
        <div class="col-xs-7 col-sm-3 tax-item-input">
            $<input tooltip-html-unsafe="{{deductionsInputTooltip}}" tooltip-trigger="focus" type="text" ng-model="salaryTaxInfo.deductions.othersCount" maxlength="10" size="15">
        </div>
        <div class="col-xs-2 col-sm-2 label label-1415 y2014tax">${{salaryTaxInfo.deductions.othersCount}}</div>
        <div class="col-xs-3 col-sm-2 label "> </div>
    </div>

    <h4 class="calculator-heading">{{::'EXEMPTION.HEADING'|t}}</h4>
    <div class="row">
        <div class="col-xs-7 col-sm-5">
            {{::'EXEMPTION.MARITAL_STATUS_LABEL'|t}}
        </div>
            <div class="col-xs-7 col-sm-3">
                <input type = "radio" name = "maritalStatus" ng-model="salaryTaxInfo.maritalStatus"
                id = "single" value = "single"
                checked = "checked" />
                <label for = "single">{{::'EXEMPTION.MARITAL_STATUS_SINGLE'|t}}</label>

                <input type = "radio" name = "maritalStatus" ng-model="salaryTaxInfo.maritalStatus"
                id = "married" value = "married" />
                <label for = "married">{{::'EXEMPTION.MARITAL_STATUS_MARRIED'|t}}</label>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-7 col-sm-8 tax-item">{{::'EXEMPTION.BASIC'|t}}</div>

            <div class="col-xs-2 label label-1415 y2014tax">${{y2014.salary.allowancesEntitled.basicPerStatus}}</div>
            <div class="col-xs-3 col-sm-2 label label-diff">
               <diff prop-key="salary.allowancesEntitled.basicPerStatus" negative="false"></diff>
           </div>

       </div>
       <div class="row">
        <div class="col-xs-7 col-sm-5 tax-item"><i class="fa fa-child clickable-human"></i>{{::'EXEMPTION.CHILDREN_COUNT'|t}}</div>
        <div class="col-xs-7 col-sm-3 tax-item-input">
          <select ng-model="salaryTaxInfo.allowances.childCount">
            <option ng-repeat="n in [] | range:5" value="{{n}}">{{n}}</option>
          </select>&nbsp;{{::'EXEMPTION.CHILDREN'|t}}
          <select ng-model="salaryTaxInfo.allowances.bornChildCount">
            <option ng-repeat="n in [] | range:2" value="{{n}}">{{n}}</option>
          </select>&nbsp; {{::'EXEMPTION.BORN_IN_TAX_YEAR'|t}}
        </div>

        <div class="col-xs-2 col-sm-2 label label-1415 y2014tax">${{y2014.salary.allowancesEntitled.totalChild}}</div>
        <div class="col-xs-3 col-sm-2 label label-diff">
           <diff prop-key="salary.allowancesEntitled.totalChild" negative="false"></diff>
       </div>
   </div>

   <div class="row">
    <div class="col-xs-7 col-sm-5 tax-item">{{'EXEMPTION.SINGLE_PARENT'|t}}</div>
    <div class="col-xs-7 col-sm-3 tax-item-input">
        <select ng-model="salaryTaxInfo.allowances.isSingleParent" ng-disabled="salaryTaxInfo.maritalStatus==='married'">
            <option value="false" selected="selected">{{'NO'|t}}</option>
            <option value="true">{{'YES'|t}}</option>
        </select>
    </div>
    <div class="col-xs-2 col-sm-2  label label-1415 y2014tax">${{y2014.salary.allowancesEntitled.singleParent}}</div>
    <div class="col-xs-3 col-sm-2 label label-diff">
       <diff prop-key="salary.allowancesEntitled.singleParent" negative="false"></diff>
   </div>
</div>

<div class="row">
  <div class="col-xs-7 col-sm-5 tax-item"><i class="fa fa-user clickable-human"></i>{{::'PARENTS'|t}}</div>
  <div ng-controller="parentInfoCtrl" class="col-xs-7 col-sm-3 tax-item-input">
    <select ng-model="$parent.parentCount" ng-options="n for n in [] | range:9" tooltip-html-unsafe="{{dependentParentsInputTooltip}}" tooltip-trigger="focus" tooltip-placement="right">
    </select>
    <parent-record ng-repeat="n in [] | range:parentCount" parent-info="parentInputs[$index]" id="{{$index}}"></parent-record>
  </div>
  <div class="col-xs-2 col-sm-2  label label-1415 y2014tax">${{y2014.salary.allowancesEntitled.dependentParentsTotal}}</div>
  <div class="col-xs-3 col-sm-2  label label-diff">
     <diff prop-key="salary.allowancesEntitled.dependentParentsTotal" negative="false"></diff>
 </div>
</div>

<h4 class="calculator-heading"><span tooltip-html-unsafe="{{reductionsTooltip}}" tooltip-placement="right" tooltip-trigger="mouseenter">{{::'REDUCTION.LABEL'|t}} <i  class="fa fa-info-circle" taget="_blank"></i>
  <a href="http://www.budget.gov.hk/2014/chi/highlights.html" target="_blank">{{::'DETAILS'|t}}</a></small></h4></span>
<div class="row">
    <div class="col-xs-7 col-sm-8" style="color:gray;font-size:0.8em">{{::'REDUCTION.NOTE'|t}}</div>
    <div class="col-xs-2 label label-1415 y2014tax"> ${{y2014.salary.reductions}}</div>
    <div class="col-xs-3 col-sm-2 label label-diff">
       <diff prop-key="salary.reductions" negative="false"></diff>
   </div>
</div>
<div class="row">
   <div class="col-xs-7 col-sm-8"></div>
   <div class="col-xs-2 annotations" style="text-align: right;"><em>*13-14*</em> </div>
   <div class="col-xs-2 annotations" style="text-align: right;"><em>*14-15*</em> </div>
   <div class="col-xs-3 col-sm-2"></div>
</div>

<h4 class="calculator-heading">{{::'TOTAL.LABEL'|t}}</h4>


<div class="row">
    <div class="col-xs-7 col-sm-8"><label class="total">{{::'TOTAL.INCOME'|t}}</label></div>
    <div class="col-xs-2 label label-1415 y2014tax">${{salaryTaxInfo.income}}</div>
    <div class="col-xs-3 col-sm-2 label label-diff"></div>
</div>

<div class="row">
    <div class="col-xs-7 col-sm-8"><label class="total">{{::'TOTAL.DEDUCTION'|t}}</label></div>
    <div class="col-xs-2 label label-1415 y2014tax">${{salaryTaxInfo.deductions.othersCount}}</div>
    <div class="col-xs-3 col-sm-2 label label-diff"></div>
</div>
<div class="row">
    <div class="col-xs-7 col-sm-8"><label class="total">{{::'TOTAL.EXEMPTION'|t}}</label></div>
    <div class="col-xs-2 label label-1415 y2014tax">${{y2014.salary.allowancesEntitled.total}}</div>
    <div class="col-xs-3 col-sm-2 label label-diff"><diff prop-key="salary.allowancesEntitled.total" negative="false"></div>
</div>
<div class="row">
    <div class="col-xs-7 col-sm-8"><label class="total">{{::'TOTAL.REDUCTION'|t}}</label></div>
    <div class="col-xs-2 label label-1415 y2014tax">${{y2014.salary.reductions}} </div>
    <div class="col-xs-3 col-sm-2 label label-diff"><diff prop-key="salary.reductions" negative="false"></div>
</div>
<div class="row">
    <div class="col-xs-7 col-sm-8 "><label class="total total-total">{{::'TOTAL.LABEL'|t}}</label></div>
    <div class="col-xs-2 label label-1415 y2014tax total-total">${{y2014.salaryTax}}</div>
    <div class="col-xs-3 col-sm-2 label label-diff total-total"><diff prop-key="salaryTax" negative="false"></div>
</div>
</div>
</div>
</section>
</div>

<div class="row">
    <!-- <div class="col-xs-10 col-sm-5 col-md-3"> <div >2013: ${{y2013.sumTax | number:0}}</div></div>  -->
    <!-- <div class="atom col-xs-10 col-sm-5 col-md-3"><div ng-show="show2014">2014: ${{y2013.sumTax | number:0}}</div></div>    -->
    <!-- <div class="atom col-xs-10 col-sm-5 col-md-3"><input type="number"> </div>    -->
</div>

</div>
